{"version":3,"sources":["auth.controller.js"],"names":["Usuario","require","exports","login","req","res","_req$body","correo","password","usuario","_usuario$toObject","usuarioSinPassword","regeneratorRuntime","async","_context","prev","next","body","awrap","findOne","sent","abrupt","status","json","error","toObject","_objectWithoutProperties","t0","stop"],"mappings":"mdAAA,IAAMA,QAAUC,QAAQ,qBAExBC,QAAQC,MAAQ,SAAOC,EAAKC,GAAZ,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAV,EACeF,EAAIa,KAAzBV,EADMD,EACNC,OAAQC,EADFF,EACEE,SADFM,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAM,MAGUlB,QAAQmB,QAAQ,CAAEZ,OAAAA,KAH5B,KAAA,EAAA,GAGNE,EAHMK,EAAAM,KAAA,CAAAN,EAAAE,KAAA,EAAA,MAAA,OAAAF,EAAAO,OAAA,SAKHhB,EAAIiB,OAAO,KAAKC,KAAK,CAAEC,MAAO,2BAL3B,KAAA,EAAA,GAAAf,EAAAD,WAAAA,EAAA,OAAAM,EAAAO,OAAA,SAQHhB,EAAIiB,OAAO,KAAKC,KAAK,CAAEC,MAAO,2BAR3BV,EAAAE,KAAA,EAAA,MAAA,KAAA,EAAAN,EAAAD,EAAAgB,WAAAf,EAAAF,SAAAG,EAAAe,yBAAAhB,EAAA,CAAA,aAAAL,EAAAkB,KAAA,CAAAd,QAAAE,IAAAG,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,MAAA,GAAAT,EAAAiB,OAAA,KAAAC,KACkB,CAACN,MAAzBV,yBADM,KAAA,GAAA,IAAA,MAAA,OAAAO,EAAAc,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"auth.controller.min.js","sourcesContent":["const Usuario = require('../models/Usuario');\r\n\r\nexports.login = async (req, res) => {\r\n  const { correo, password } = req.body; \r\n  try {\r\n    const usuario = await Usuario.findOne({ correo }); \r\n    if (!usuario) {\r\n      return res.status(401).json({ error: 'Usuario no encontrado' });\r\n    }\r\n    if (usuario.password !== password) {\r\n      return res.status(401).json({ error: 'Contrase√±a incorrecta' });\r\n    }\r\n    const { password: _, ...usuarioSinPassword } = usuario.toObject();\r\n    res.json({ usuario: usuarioSinPassword });\r\n  } catch (err) {\r\n    res.status(500).json({ error: 'Error en el servidor' });\r\n  }\r\n};"]}