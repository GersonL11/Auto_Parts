{"version":3,"sources":["auth.controller.js"],"names":["Usuario","require","exports","login","req","res","body","correo","password","findOne","usuario","status","json","error","toObject","_","usuarioSinPassword"],"mappings":";;;;;;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,mBAAD,CAAvB;;AAEAC,OAAO,CAACC,KAAR,GAAgB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sBACeD,GAAG,CAACE,IADnB,EACNC,MADM,aACNA,MADM,EACEC,QADF,aACEA,QADF;AAAA;AAAA;AAAA,0CAGUR,OAAO,CAACS,OAAR,CAAgB;AAAEF,YAAAA,MAAM,EAANA;AAAF,WAAhB,CAHV;;AAAA;AAGNG,UAAAA,OAHM;;AAAA,cAIPA,OAJO;AAAA;AAAA;AAAA;;AAAA,2CAKHL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAArB,CALG;;AAAA;AAAA,gBAORH,OAAO,CAACF,QAAR,KAAqBA,QAPb;AAAA;AAAA;AAAA;;AAAA,2CAQHH,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAArB,CARG;;AAAA;AAAA,8BAUmCH,OAAO,CAACI,QAAR,EAVnC,EAUMC,CAVN,qBAUJP,QAVI,EAUYQ,kBAVZ;AAWZX,UAAAA,GAAG,CAACO,IAAJ,CAAS;AAAEF,YAAAA,OAAO,EAAEM;AAAX,WAAT;AAXY;AAAA;;AAAA;AAAA;AAAA;AAaZX,UAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAArB;;AAbY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB","sourcesContent":["const Usuario = require('../models/Usuario');\r\n\r\nexports.login = async (req, res) => {\r\n  const { correo, password } = req.body; \r\n  try {\r\n    const usuario = await Usuario.findOne({ correo }); \r\n    if (!usuario) {\r\n      return res.status(401).json({ error: 'Usuario no encontrado' });\r\n    }\r\n    if (usuario.password !== password) {\r\n      return res.status(401).json({ error: 'Contrase√±a incorrecta' });\r\n    }\r\n    const { password: _, ...usuarioSinPassword } = usuario.toObject();\r\n    res.json({ usuario: usuarioSinPassword });\r\n  } catch (err) {\r\n    res.status(500).json({ error: 'Error en el servidor' });\r\n  }\r\n};"],"file":"auth.controller.dev.js"}