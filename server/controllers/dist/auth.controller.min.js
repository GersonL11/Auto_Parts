"use strict";function _objectWithoutProperties(r,e){if(null==r)return{};var t,o,n=_objectWithoutPropertiesLoose(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(o=0;o<s.length;o++)t=s[o],0<=e.indexOf(t)||Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t,o,n={},s=Object.keys(r);for(o=0;o<s.length;o++)t=s[o],0<=e.indexOf(t)||(n[t]=r[t]);return n}var Usuario=require("../models/Usuario");exports.login=function(e,t){var o,n,s,a,u,i;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.body,n=o.correo,s=o.password,r.prev=1,r.next=4,regeneratorRuntime.awrap(Usuario.findOne({correo:n}));case 4:if(a=r.sent){r.next=7;break}return r.abrupt("return",t.status(401).json({error:"Usuario no encontrado"}));case 7:if(a.password!==s)return r.abrupt("return",t.status(401).json({error:"ContraseÃ±a incorrecta"}));r.next=9;break;case 9:u=a.toObject(),u.password,i=_objectWithoutProperties(u,["password"]),t.json({usuario:i}),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),t.status(500).json({error:"Error en el servidor"});case 16:case"end":return r.stop()}},null,null,[[1,13]])};
//# sourceMappingURL=auth.controller.min.js.map
